<section ng-controller="ConversationsController" ng-init="find()">
  <div class="page-header">
    <h1>Conversations</h1>
  </div>
  <div class="list-group">
    <a ng-repeat="conversation in conversations" ui-sref="privateChat({conversationId: conversation._id})" class="list-group-item">

      <img ng-src="{{conversation.fromUser.profileImageURL}}" alt="{{conversation.fromUser.username}}" class="pull-left chat-profile-image" />
      <div class="pull-left chat-message-details" style="margin: 0.5rem !important">
        <strong ng-bind="conversation.fromUser.displayName"></strong>
      </div>
      <br/>
      <br/>
      <small class="list-group-item-text">
        Last message at
        <span ng-bind="conversation.created | date:'mediumDate'"></span>
      </small>
    </a>
  </div>
  <div class="alert alert-warning text-center" ng-if="conversations.$resolved && !conversations.length">
    No conversations yet!
  </div>
</section>
